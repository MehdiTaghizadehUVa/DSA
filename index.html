<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>8-Week DSA Master Plan ‚Ä¢ Interactive</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <style>
    :root{
      --bg:#0b1020; --panel:#12182b; --card:#161d33; --text:#eaf0ff; --muted:#9fb2ff;
      --brand:#5da7ff; --accent:#7cf6d6; --ok:#7cf69c; --warn:#ffd166; --danger:#ff6b6b;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(135deg,#090f1d,#0d1326 45%,#0b1020);color:var(--text);font:14px/1.5 Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
    header{position:sticky;top:0;z-index:10;background:rgba(9,15,29,.65);backdrop-filter:blur(10px);border-bottom:1px solid #1c2547}
    .wrap{max-width:1200px;margin:0 auto;padding:20px}
    .grid{display:grid;grid-template-columns:320px 1fr;gap:22px}
    @media(max-width:980px){.grid{grid-template-columns:1fr}}
    .panel{background:var(--panel);border:1px solid #1b2342;border-radius:var(--radius);box-shadow:var(--shadow)}
    .panel h2{margin:0;padding:18px 18px 10px}
    .panel .body{padding:14px 18px 18px}
    .hero{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .title{font-weight:800;letter-spacing:.3px;font-size:20px}
    .sub{color:var(--muted);font-size:13px}
    .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .input, select{width:100%;appearance:none;background:#0f152a;color:var(--text);border:1px solid #1d2650;border-radius:12px;padding:12px 14px;outline:none}
    .btn{cursor:pointer;background:linear-gradient(135deg,#3a64ff,#00ccb2);border:none;color:#041227;font-weight:700;border-radius:12px;padding:10px 14px}
    .btn.ghost{background:transparent;color:var(--brand);border:1px solid #294083}
    .week{background:var(--panel);border:1px solid #1b2342;border-radius:var(--radius);margin-bottom:18px;box-shadow:var(--shadow)}
    .week > summary{list-style:none;padding:16px 18px;cursor:pointer}
    .week > summary::-webkit-details-marker{display:none}
    .week h3{margin:0;font-size:16px}
    .pill{display:inline-flex;align-items:center;gap:8px;background:#0e1630;border:1px solid #233160;color:var(--muted);padding:6px 10px;border-radius:999px;font-size:12px;margin-left:8px}
    .day{padding:14px 18px;border-top:1px dashed #202a52}
    .topic{font-weight:700}
    .kicker{color:var(--muted);font-size:12px;margin-top:2px}
    .links{display:grid;gap:8px;margin-top:10px}
    .group{background:var(--card);border:1px solid #1d264b;border-radius:12px;padding:12px}
    .group h4{margin:0 0 6px 0;font-size:13px;color:var(--accent);letter-spacing:.2px}
    .a{display:flex;justify-content:space-between;align-items:center;gap:10px;text-decoration:none;color:#d9e3ff;background:#0e1733;border:1px solid #233160;border-radius:10px;padding:10px}
    .a span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:75%}
    .a small{color:#8ca4ff}
    .badges{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
    .badge{font-size:11px;color:#09122a;background:#cde3ff;border-radius:999px;padding:3px 8px}
    .progress{height:8px;background:#0f1730;border-radius:999px;overflow:hidden;border:1px solid #213065}
    .progress > i{display:block;height:100%;background:linear-gradient(135deg,#49f3c6,#67f39a)}
    .muted{color:#9fb2ff;font-size:12px}
    .row{display:flex;gap:10px}
    .split{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:720px){.split{grid-template-columns:1fr}}
    .check{accent-color:#00d7bd;transform:translateY(1px)}
    footer{opacity:.7;text-align:center;padding:30px 0}
  </style>
</head>
<body>
  <header>
    <div class="wrap hero">
      <div>
        <div class="title">DSA Master Plan ‚Äî 8 Weeks</div>
        <div class="sub">Concept Tutorials ‚Ä¢ Problem Walkthroughs ‚Ä¢ Practice ‚Äî all in one place</div>
      </div>
      <div class="row">
        <button id="resetBtn" class="btn ghost" title="Clear saved progress">Reset Progress</button>
        <button id="exportBtn" class="btn" title="Export your plan as JSON">Export Plan</button>
      </div>
    </div>
  </header>

  <main class="wrap grid">
    <aside class="panel">
      <h2>Controls</h2>
      <div class="body">
        <label class="muted">Search topics / videos</label>
        <input id="search" class="input" placeholder="e.g., sliding window, Dijkstra, trie‚Ä¶" />
        <div class="controls">
          <select id="weekFilter">
            <option value="">Filter: All weeks</option>
          </select>
          <select id="difficultyFilter">
            <option value="">Filter: Any difficulty</option>
            <option>Warm-up</option>
            <option>Core</option>
            <option>Advanced</option>
          </select>
        </div>
        <div style="margin-top:12px">
          <label class="muted">Progress</label>
          <div class="progress" title="Completion">
            <i id="progressFill" style="width:0%"></i>
          </div>
          <div class="muted" id="progressText" style="margin-top:6px">0% complete</div>
        </div>
        <div style="margin-top:16px">
          <label class="muted">Show only days with concept tutorials</label>
          <input id="hasTutorials" type="checkbox" class="check" />
        </div>
      </div>
    </aside>

    <section id="weeks"></section>
  </main>

  <footer class="wrap muted">Built for you ‚Äî free, curated, and ordered for maximum retention.</footer>

<script>
const plan = [
/* ---------- WEEK 1: FOUNDATIONS & POINTER PATTERNS ---------- */
{ week: 1, title: "Foundations + Arrays/Strings/Hashing + Pointer Patterns", days: [
  {
    title: "Big-O & Complexity Refresh",
    difficulty: "Warm-up",
    topic: "Big-O Notation",
    outcomes: ["Amortized vs worst-case", "Space vs time", "Reading constraints"],
    tutorials: [
      { t: "Big-O Notation (Interviews, fast & clear) ‚Äî NeetCode", u: "https://www.youtube.com/watch?v=rv_ZacJYRFA" }, /*  */
      { t: "Big-O: Explainer ‚Äî CS Dojo", u: "https://www.youtube.com/watch?v=v4cd1O4zkGw" } /*  */
    ],
    videos: [
      { t: "Asymptotic Notation: quick refresher (mycodeschool)", u: "https://www.youtube.com/watch?v=ei-A_wy5Yxw" } /* topic explainer */
    ],
    practice: [
      { t: "Cheat-sheet: Common Complexities", u: "https://www.bigocheatsheet.com/" }
    ]
  },
  {
    title: "Arrays & Strings (Core Ops & Pitfalls)",
    difficulty: "Core",
    topic: "Arrays, Strings",
    outcomes: ["Two indices, in-place ops", "Sentinel usage", "Immutability pitfalls"],
    tutorials: [
      { t: "Dynamic & Static Arrays ‚Äî William Fiset", u: "https://www.youtube.com/watch?v=PEnFFiQe1pM" }, /* arrays */ /*  */
      { t: "Character Arrays & Pointers (strings) ‚Äî mycodeschool", u: "https://www.youtube.com/watch?v=Bf8a6IC1dE8" } /*  */
    ],
    videos: [
      { t: "Array Techniques ‚Äî patterns overview", u: "https://www.youtube.com/watch?v=xoVBElb9W3E" } // general overview
    ],
    practice: [
      { t: "LeetCode Array", u: "https://leetcode.com/tag/array/" },
      { t: "LeetCode String", u: "https://leetcode.com/tag/string/" }
    ]
  },
  {
    title: "Hashing (Maps/Sets, Collisions, Design)",
    difficulty: "Core",
    topic: "Hashing",
    outcomes: ["Separate chaining", "Open addressing", "Choosing good hashes"],
    tutorials: [
      { t: "Hash Tables ‚Äî William Fiset", u: "https://www.youtube.com/watch?v=2E54GqF0H4s" } /*  */
    ],
    videos: [
      { t: "Maps/Sets in practice (interview usage)", u: "https://www.youtube.com/watch?v=Vi0hauJemxA" }
    ],
    practice: [
      { t: "LeetCode Hash Table", u: "https://leetcode.com/tag/hash-table/" }
    ]
  },
  {
    title: "Two Pointers (Opposing & Same-direction)",
    difficulty: "Core",
    topic: "Two Pointers",
    outcomes: ["Opposing pointers", "Deduping", "Partitioning"],
    tutorials: [
      { t: "Two Pointers in 7 minutes ‚Äî takeUforward", u: "https://www.youtube.com/watch?v=QzZ7nmouLTI" } /*  */
    ],
    videos: [
      { t: "Patterns & Traps (Two Pointers)", u: "https://www.youtube.com/watch?v=GSiZkPZ8B0k" }
    ],
    practice: [
      { t: "LeetCode Two Pointers", u: "https://leetcode.com/tag/two-pointers/" }
    ]
  },
  {
    title: "Sliding Window (Fixed & Variable)",
    difficulty: "Core",
    topic: "Sliding Window",
    outcomes: ["When to shrink vs expand", "Frequency maps", "Edge windows"],
    tutorials: [
      { t: "Sliding Window in 7 minutes ‚Äî takeUforward", u: "https://www.youtube.com/watch?v=y2d0VHdvfdc" } /*  */
    ],
    videos: [
      { t: "Binary Search Templates & Pitfalls", u: "https://www.youtube.com/watch?v=8UoRjcqWzsc" }
    ],
    practice: [
      { t: "LeetCode Binary Search", u: "https://leetcode.com/tag/binary-search/" }
    ]
  },
  {
    title: "Weekly Review & Mixed Set",
    difficulty: "Warm-up",
    topic: "Review",
    outcomes: ["Revisit misses", "Speed drill", "Space-time tradeoffs"],
    tutorials: [],
    videos: [],
    practice: [
      { t: "NeetCode Roadmap Practice", u: "https://neetcode.io/practice" }
    ]
  }
]},
/* ---------- WEEK 2: STACKS/QUEUES ‚Ä¢ TREES ---------- */
{ week: 2, title: "Stacks/Queues ‚Ä¢ Monotonic Structures ‚Ä¢ Trees/BST", days: [
  {
    title: "Stacks & Queues (Implementations & Uses)",
    difficulty: "Core",
    topic: "Stack / Queue",
    outcomes: ["When LIFO/FIFO shines", "Array vs linked", "Deque patterns"],
    tutorials: [
      { t: "Stacks ‚Äî mycodeschool", u: "https://www.youtube.com/watch?v=sFVxsglODoo" }, /*  */
      { t: "Queues ‚Äî mycodeschool", u: "https://www.youtube.com/watch?v=XuCbpw6Bj1U" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode Stack", u: "https://leetcode.com/tag/stack/" },
      { t: "LeetCode Queue", u: "https://leetcode.com/tag/queue/" }
    ]
  },
  {
    title: "Monotonic Stack/Deque (When & Why)",
    difficulty: "Advanced",
    topic: "Monotonic Structures",
    outcomes: ["Next greater/smaller", "Window max via deque"],
    tutorials: [
      { t: "Monotonic Stack ‚Äî Back To Back SWE (explained)", u: "https://www.youtube.com/watch?v=dtiBmmIPR0E" } /*  */
    ],
    videos: [],
    practice: [
      { t: "Good set: Monotonic Stack problems", u: "https://leetcode.com/problemset/?topicSlugs=stack" }
    ]
  },
  {
    title: "Trees (Basics) + BST Invariants",
    difficulty: "Core",
    topic: "Trees/BST",
    outcomes: ["DFS orders", "BST property", "Recursion patterns"],
    tutorials: [
      { t: "Tree Data Structure ‚Äî mycodeschool", u: "https://www.youtube.com/watch?v=qH6yxkw0u78" }, /*  */
      { t: "Binary Search Tree ‚Äî mycodeschool", u: "https://www.youtube.com/watch?v=pYT9F8_LFTM" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode Tree", u: "https://leetcode.com/tag/tree/" },
      { t: "LeetCode Binary Search Tree", u: "https://leetcode.com/tag/binary-search-tree/" }
    ]
  }
]},
/* ---------- WEEK 3: BACKTRACKING ‚Ä¢ HEAPS ‚Ä¢ SORTING ---------- */
{ week: 3, title: "Backtracking ‚Ä¢ Heaps/Priority Queues ‚Ä¢ Sorting", days: [
  {
    title: "Backtracking (Framework & Pruning)",
    difficulty: "Core",
    topic: "Backtracking",
    outcomes: ["State / choice / constraints", "Ordering & pruning"],
    tutorials: [
      { t: "Backtracking Blueprint ‚Äî Back To Back SWE", u: "https://www.youtube.com/watch?v=Zq4upTEaQyM" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode Backtracking", u: "https://leetcode.com/tag/backtracking/" }
    ]
  },
  {
    title: "Heaps / Priority Queues",
    difficulty: "Core",
    topic: "Heap / PQ",
    outcomes: ["Binary heap ops", "k-way merge", "Top-k"],
    tutorials: [
      { t: "Introduction to Heaps & Priority Queues ‚Äî William Fiset", u: "https://www.youtube.com/watch?v=KxkhIMLWZW4" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode Heap", u: "https://leetcode.com/tag/heap-priority-queue/" }
    ]
  },
  {
    title: "Sorting (Divide & Conquer intuition)",
    difficulty: "Core",
    topic: "Sorting",
    outcomes: ["Stability", "In-place vs extra space"],
    tutorials: [
      { t: "Merge Sort ‚Äî mycodeschool", u: "https://www.youtube.com/watch?v=TzeBrDU-JaY" }, /*  */
      { t: "Quick Sort ‚Äî mycodeschool", u: "https://www.youtube.com/watch?v=COk73cpQbFQ" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode Sorting", u: "https://leetcode.com/tag/sorting/" }
    ]
  }
]},
/* ---------- WEEK 4: INTERVALS ‚Ä¢ GREEDY ‚Ä¢ BFS/DFS ---------- */
{ week: 4, title: "Intervals & Greedy ‚Ä¢ Graph Traversals", days: [
  {
    title: "Intervals + Greedy (When Greedy Works)",
    difficulty: "Core",
    topic: "Intervals / Greedy",
    outcomes: ["Sorting by key", "Exchange arguments", "Counterexamples"],
    tutorials: [
      { t: "Greedy Algorithms Tutorial ‚Äî freeCodeCamp (concepts)", u: "https://www.youtube.com/watch?v=bC7o8P_Ste4" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode Interval", u: "https://leetcode.com/tag/intervals/" },
      { t: "LeetCode Greedy", u: "https://leetcode.com/tag/greedy/" }
    ]
  },
  {
    title: "Graphs I ‚Äî BFS & DFS",
    difficulty: "Core",
    topic: "Graph Traversal",
    outcomes: ["Visited sets", "Levels", "Tree/Back/Cross edges"],
    tutorials: [
      { t: "BFS ‚Äî William Fiset", u: "https://www.youtube.com/watch?v=oDqjPvD54Ss" }, /*  */
      { t: "DFS ‚Äî William Fiset", u: "https://www.youtube.com/watch?v=7fujbpJ0LB4" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode Graph", u: "https://leetcode.com/tag/graph/" }
    ]
  }
]},
/* ---------- WEEK 5: TOPO SORT ‚Ä¢ SHORTEST PATHS ---------- */
{ week: 5, title: "Topological Sort ‚Ä¢ Shortest Paths", days: [
  {
    title: "Topological Sort (Kahn + DFS)",
    difficulty: "Advanced",
    topic: "Topo Sort / DAG",
    outcomes: ["Cycle detection", "In-degree queue"],
    tutorials: [
      { t: "Topological Sort (Kahn‚Äôs) ‚Äî William Fiset", u: "https://www.youtube.com/watch?v=cIBFEhD77b4" } /*  */
    ],
    videos: [],
    practice: [
      { t: "Good DAG set (Topo)", u: "https://leetcode.com/problemset/?topicSlugs=graph" }
    ]
  },
  {
    title: "Shortest Paths (SSSP/APSP)",
    difficulty: "Advanced",
    topic: "Dijkstra ‚Ä¢ Bellman-Ford ‚Ä¢ Floyd-Warshall",
    outcomes: ["Weights vs negatives", "Path reconstruction"],
    tutorials: [
      { t: "Dijkstra ‚Äî William Fiset", u: "https://www.youtube.com/watch?v=pSqmAO-m7Lk" }, /*  */
      { t: "Bellman‚ÄìFord ‚Äî William Fiset", u: "https://www.youtube.com/watch?v=lyw4FaxrwHg" }, /*  */
      { t: "Floyd‚ÄìWarshall ‚Äî William Fiset", u: "https://www.youtube.com/watch?v=4NQ3HnhyNfQ" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode Shortest Path (Graph)", u: "https://leetcode.com/tag/graph/" }
    ]
  }
]},
/* ---------- WEEK 6: DSU ‚Ä¢ MST ‚Ä¢ TRIE ---------- */
{ week: 6, title: "Disjoint Set Union ‚Ä¢ MST ‚Ä¢ Trie", days: [
  {
    title: "Disjoint Set Union (Union-Find)",
    difficulty: "Core",
    topic: "DSU / Union-Find",
    outcomes: ["Path compression", "Union by rank/size"],
    tutorials: [
      { t: "Union-Find ‚Äî William Fiset (intro)", u: "https://www.youtube.com/watch?v=ibjEGG7ylHk" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode DSU tagged problems", u: "https://leetcode.com/problemset/?search=union%20find" }
    ]
  },
  {
    title: "Minimum Spanning Tree (Kruskal + Prim)",
    difficulty: "Advanced",
    topic: "MST",
    outcomes: ["Cut property", "Cycle property", "Greedy proofs (intuition)"],
    tutorials: [
      { t: "Prim‚Äôs MST ‚Äî William Fiset", u: "https://www.youtube.com/watch?v=jsmMtJpPnhU" }, /*  */
      { t: "Kruskal‚Äôs (with DSU) ‚Äî tutorial", u: "https://www.youtube.com/watch?v=FfgXmie2NxY" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode MST search", u: "https://leetcode.com/problemset/?search=minimum%20spanning%20tree" }
    ]
  },
  {
    title: "Trie (Prefix Tree) ‚Äî Strings at Scale",
    difficulty: "Advanced",
    topic: "Trie",
    outcomes: ["Insert/search/delete", "Prefix queries"],
    tutorials: [
      { t: "Trie ‚Äî Tushar Roy (concept + insert/search)", u: "https://www.youtube.com/watch?v=luVvZD_Gkk0" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode Trie", u: "https://leetcode.com/tag/trie/" }
    ]
  }
]},
/* ---------- WEEK 7: STRING ALGORITHMS ‚Ä¢ BIT MANIP ---------- */
{ week: 7, title: "String Algorithms ‚Ä¢ Bit Manipulation", days: [
  {
    title: "String Algorithms (KMP, Rolling Hash, Edit Distance)",
    difficulty: "Advanced",
    topic: "KMP ‚Ä¢ Rabin-Karp ‚Ä¢ Edit Distance",
    outcomes: ["Prefix-function/LPS", "Hash collisions intuition", "DP on strings"],
    tutorials: [
      { t: "KMP (LPS + full algo) ‚Äî Tushar Roy Part 1", u: "https://www.youtube.com/watch?v=Qvw6LC5bCw8" }, /* Tushar alternate; fallback if needed */
      { t: "Rabin‚ÄìKarp ‚Äî Tushar Roy", u: "https://www.youtube.com/watch?v=H4VrKHVG5qI" }
    ],
    videos: [],
    practice: [
      { t: "LeetCode String (advanced)", u: "https://leetcode.com/tag/string/" }
    ]
  },
  {
    title: "Bit Manipulation (Operators, Masks, Tricks)",
    difficulty: "Core",
    topic: "Bit Manipulation",
    outcomes: ["Parity, set/clear/test", "Subset masks", "Lowbit"],
    tutorials: [
      { t: "Bit Manipulation (CTCI segment) ‚Äî HackerRank", u: "https://www.youtube.com/watch?v=NLKQEOgBAnw" } /*  */
    ],
    videos: [
      { t: "Subsets trick (bit DP) ‚Äî Back To Back SWE", u: "https://www.youtube.com/watch?v=OMHH0f3Eb5E" } /*  */
    ],
    practice: [
      { t: "LeetCode Bit Manipulation", u: "https://leetcode.com/problemset/?search=bit%20manipulation" }
    ]
  }
]},
/* ---------- WEEK 8: DYNAMIC PROGRAMMING ‚Ä¢ FINAL MIX ---------- */
{ week: 8, title: "Dynamic Programming ‚Ä¢ Final Review & Mock", days: [
  {
    title: "Dynamic Programming (Mindset & Patterns)",
    difficulty: "Advanced",
    topic: "DP (1D/2D/Knapsack/LIS/LCS)",
    outcomes: ["Tabulation vs memoization", "State definition", "Transitions & base cases"],
    tutorials: [
      { t: "5 Steps for DP Problems ‚Äî Back To Back SWE", u: "https://www.youtube.com/watch?v=aPQY__2H3tE" } /*  */
    ],
    videos: [],
    practice: [
      { t: "LeetCode DP", u: "https://leetcode.com/tag/dynamic-programming/" }
    ]
  },
  {
    title: "Capstone: Mixed Graph/Tree/DP set + Timed mock",
    difficulty: "Core",
    topic: "Mock & Review",
    outcomes: ["Apply across topics", "Time management", "Post-mortem"],
    tutorials: [],
    videos: [],
    practice: [
      { t: "Mixed Practice (custom search)", u: "https://leetcode.com/problemset/?search=graph%20tree%20dp%20hard" }
    ]
  }
]}];

/* ---------- RENDERING ---------- */
const weeksEl = document.getElementById('weeks');
const weekFilter = document.getElementById('weekFilter');
const difficultyFilter = document.getElementById('difficultyFilter');
const searchInput = document.getElementById('search');
const hasTutorials = document.getElementById('hasTutorials');
const resetBtn = document.getElementById('resetBtn');
const exportBtn = document.getElementById('exportBtn');
const progressFill = document.getElementById('progressFill');
const progressText = document.getElementById('progressText');

const state = {
  done: JSON.parse(localStorage.getItem('dsa_done') || '{}')
};

function save(){ localStorage.setItem('dsa_done', JSON.stringify(state.done)); updateProgress(); }
function mark(key, val){ state.done[key]=val; save(); }
function isDone(key){ return !!state.done[key]; }

function badge(str){ return `<span class="badge">${str}</span>` }

function render(){
  weeksEl.innerHTML = '';
  // fill week filter
  weekFilter.innerHTML = `<option value="">Filter: All weeks</option>`;
  plan.forEach(p => weekFilter.innerHTML += `<option value="${p.week}">Week ${p.week}</option>`);

  const q = (searchInput.value||'').toLowerCase();

  plan.forEach(({week,title,days})=>{
    const weekBlock = document.createElement('details');
    weekBlock.className = 'week';
    weekBlock.open = true;

    // Filter by week selector
    const weekOk = !weekFilter.value || String(week)===weekFilter.value;

    // Build inner days with filters
    const daysHtml = days.map((d, idx)=>{
      const key = `${week}-${idx}`;
      const textBlob = [d.title,d.topic,d.difficulty, ...(d.tutorials?.map(x=>x.t)||[]), ...(d.videos?.map(x=>x.t)||[])].join(' ').toLowerCase();
      const searchOk = !q || textBlob.includes(q);
      const diffOk = !difficultyFilter.value || d.difficulty===difficultyFilter.value;
      const tutorialsOk = !hasTutorials.checked || (d.tutorials && d.tutorials.length);

      if(!(weekOk && searchOk && diffOk && tutorialsOk)) return '';

      const tutorials = (d.tutorials||[]).map(v=>(
        `<a class="a" target="_blank" rel="noopener" href="${v.u}">
          <span>üéì ${v.t}</span><small>Concept</small>
        </a>`
      )).join('');

      const videos = (d.videos||[]).map(v=>(
        `<a class="a" target="_blank" rel="noopener" href="${v.u}">
          <span>‚ñ∂Ô∏è ${v.t}</span><small>Walkthrough</small>
        </a>`
      )).join('');

      const practice = (d.practice||[]).map(p=>(
        `<a class="a" target="_blank" rel="noopener" href="${p.u}">
          <span>üß™ ${p.t}</span><small>Practice</small>
        </a>`
      )).join('');

      return `
        <div class="day">
          <label style="display:flex;align-items:center;gap:10px;margin-bottom:6px">
            <input type="checkbox" class="check" ${isDone(key)?'checked':''} data-key="${key}"/>
            <div>
              <div class="topic">${d.title}</div>
              <div class="kicker">${d.topic} ‚Ä¢ ${d.difficulty}</div>
              <div class="badges">
                ${d.outcomes.map(badge).join('')}
              </div>
            </div>
          </label>
          <div class="split">
            <div class="group">
              <h4>Learn the Concept (Tutorials)</h4>
              <div class="links">${tutorials || '<div class="muted">No tutorials</div>'}</div>
            </div>
            <div class="group">
              <h4>Problem Walkthroughs</h4>
              <div class="links">${videos || '<div class="muted">Use the practice set for application</div>'}</div>
            </div>
          </div>
          <div class="group" style="margin-top:10px">
            <h4>Practice</h4>
            <div class="links">${practice || '<div class="muted">Add your favorite practice set</div>'}</div>
          </div>
        </div>
      `;
    }).join('');

    weekBlock.innerHTML = `
      <summary>
        <h3>Week ${week}: ${title}</h3>
        <span class="pill">Days: ${days.length}</span>
      </summary>
      ${daysHtml || '<div class="day"><div class="muted">No matching days with current filters.</div></div>'}
    `;
    weeksEl.appendChild(weekBlock);
  });

  // attach check handlers
  weeksEl.querySelectorAll('input.check[data-key]').forEach(chk=>{
    chk.addEventListener('change', e => mark(e.target.dataset.key, e.target.checked));
  });

  updateProgress();
}

function updateProgress(){
  const total = plan.reduce((a,w)=>a + w.days.length, 0);
  const done = Object.values(state.done).filter(Boolean).length;
  const pct = total ? Math.round(done*100/total) : 0;
  progressFill.style.width = pct + '%';
  progressText.textContent = `${pct}% complete (${done}/${total} days)`;
}

searchInput.addEventListener('input', render);
weekFilter.addEventListener('change', render);
difficultyFilter.addEventListener('change', render);
hasTutorials.addEventListener('change', render);
resetBtn.addEventListener('click', ()=>{
  if(confirm('Clear all saved progress?')){ localStorage.removeItem('dsa_done'); state.done={}; render(); }
});
exportBtn.addEventListener('click', ()=>{
  const data = { plan, progress: state.done, exportedAt: new Date().toISOString() };
  const blob = new Blob([JSON.stringify(data,null,2)], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = Object.assign(document.createElement('a'), { href: url, download:'dsa-plan-export.json' });
  document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
});

render();
</script>
</body>
</html>
