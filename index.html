<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>8-Week DSA Mastery Plan — Interactive</title>
<link rel="icon" href="data:," />
<style>
  :root{
    --bg: #0b0f14;
    --panel:#0f1620;
    --muted:#94a3b8;
    --text:#e6edf3;
    --brand:#5eead4;
    --brand-2:#60a5fa;
    --ok:#22c55e;
    --warn:#f59e0b;
    --danger:#ef4444;
    --card: #111827;
    --chip:#1f2937;
    --accent:#334155;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;background:linear-gradient(180deg,#0b0f14, #0b0f14 60%, #0b0f14);
    color:var(--text);font:500 16px/1.5 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
  }
  a{color:var(--brand-2);text-decoration:none}
  a:hover{text-decoration:underline}
  .app{
    display:grid;grid-template-columns:320px 1fr;gap:18px;
    height:100%;padding:18px;max-width:1400px;margin:0 auto;
  }
  .sidebar{
    background:var(--panel);border:1px solid #1f2937;border-radius:16px;box-shadow:var(--shadow);
    display:flex;flex-direction:column;overflow:hidden;
  }
  .main{
    background:var(--panel);border:1px solid #1f2937;border-radius:16px;box-shadow:var(--shadow);
    overflow:auto;position:relative;
  }
  header{
    padding:16px 18px;border-bottom:1px solid #1f2937;display:flex;gap:12px;align-items:center;justify-content:space-between
  }
  header h1{font-size:18px;margin:0}
  .badge{font-size:12px;background:var(--chip);color:#cbd5e1;border:1px solid #273445; padding:4px 8px;border-radius:999px}
  .week-list{padding:10px;overflow:auto}
  .week{
    border:1px solid #1f2937;background:var(--card);border-radius:12px;padding:12px;margin:10px 8px;cursor:pointer;
    transition:transform .08s ease, border-color .2s ease;
  }
  .week:hover{transform:translateY(-1px);border-color:#2b3a4f}
  .week.active{outline:2px solid var(--brand-2);border-color:var(--brand-2)}
  .week h3{margin:0 0 4px 0;font-size:15px}
  .week .meta{font-size:12px;color:var(--muted)}
  .controls{
    display:flex;gap:8px;align-items:center;flex-wrap:wrap;padding:10px 12px;border-bottom:1px solid #1f2937
  }
  .controls input, .controls select{
    background:#0b1220;border:1px solid #223047;color:var(--text);border-radius:10px;padding:10px 12px;outline:none
  }
  .controls button{
    background:linear-gradient(135deg,var(--brand-2),#22c55e);
    color:#061016;border:0;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer
  }
  .controls .ghost{
    background:#0b1220;color:#cbd5e1;border:1px solid #263347
  }
  .content{
    padding:22px 26px 80px 26px;
  }
  .section-title{margin:8px 0 16px 0;font-size:22px}
  .step{
    border:1px solid #1f2937;background:var(--card);border-radius:14px;padding:14px 14px;margin:12px 0;
  }
  .step-head{
    display:flex;align-items:center;gap:12px;cursor:pointer
  }
  .step-head h4{margin:0;font-size:16px}
  .chip{background:var(--chip);border:1px solid #2a3647;color:#cbd5e1;border-radius:999px;padding:2px 8px;font-size:12px}
  .grow{flex:1}
  .donebox{display:flex;align-items:center;gap:8px}
  .donebox input{width:18px;height:18px}
  .step-body{display:none;margin-top:12px}
  .links{display:grid;grid-template-columns:1fr;gap:8px}
  .links a{display:flex;align-items:center;gap:10px;border:1px solid #263347;padding:10px;border-radius:10px;background:#0b1220}
  .links small{color:#94a3b8}
  .kicker{font-size:13px;color:#a3b1c6}
  .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  .callout{
    border:1px dashed #2b3a4f;border-radius:12px;background:rgba(96,165,250,.05);padding:12px
  }
  .sticky-footer{
    position:sticky;bottom:0;left:0;right:0;border-top:1px solid #1f2937;background:linear-gradient(180deg,rgba(11,15,20,.7),#0b0f14);
    padding:10px 18px;display:flex;gap:10px;align-items:center;justify-content:space-between
  }
  .progress{
    height:10px;background:#0b1220;border:1px solid #233148;border-radius:999px;overflow:hidden;flex:1
  }
  .bar{height:100%;background:linear-gradient(90deg,var(--brand),var(--brand-2));width:0%}
  .srch{display:flex;gap:8px;align-items:center}
  .tag{font-size:11px;padding:2px 8px;border-radius:999px;border:1px solid #2a3647;background:#0b1220;color:#cbd5e1}
  .hide{display:none}
  @media (max-width: 980px){ .app{grid-template-columns:1fr}.sidebar{order:2} }
</style>
</head>
<body>
<div class="app" id="app">
  <aside class="sidebar">
    <header>
      <h1>DSA Plan</h1>
      <span class="badge">8 weeks</span>
    </header>
    <div class="controls">
      <input id="search" placeholder="Search by topic/problem…" />
      <select id="filter">
        <option value="all">All</option>
        <option value="arrays">Arrays/Hashing</option>
        <option value="twopointers">Two Pointers</option>
        <option value="binarysearch">Binary Search</option>
        <option value="stackqueue">Stack/Queue</option>
        <option value="prefix">Prefix/Sliding</option>
        <option value="trees">Trees/BST</option>
        <option value="heap">Heap/PQ</option>
        <option value="sorting">Sorting</option>
        <option value="graphs">Graphs</option>
        <option value="shortest">Shortest Paths</option>
        <option value="mst">MST/Union-Find</option>
        <option value="dp">Dynamic Programming</option>
        <option value="trie">Trie</option>
        <option value="advanced">Advanced</option>
      </select>
      <button class="ghost" id="expandAll">Expand all</button>
      <button class="ghost" id="collapseAll">Collapse all</button>
    </div>
    <div class="week-list" id="weekList"></div>
    <div class="sticky-footer">
      <div class="progress"><div class="bar" id="bar"></div></div>
      <button id="exportBtn" class="ghost">Export</button>
      <button id="importBtn" class="ghost">Import</button>
      <input type="file" id="importFile" class="hide" accept="application/json" />
      <button id="resetBtn" style="background:#1f2937;color:#e2e8f0;border:1px solid #334155;border-radius:10px;padding:8px 10px">Reset</button>
    </div>
  </aside>

  <main class="main">
    <header>
      <div>
        <div style="font-weight:800">Professional 8-Week Roadmap</div>
        <div class="kicker">Click a week → expand any step → watch the video(s) → practice the exact problems.</div>
      </div>
      <div class="badge">Progress <span id="pct">0%</span></div>
    </header>
    <div class="content">
      <div class="callout">
        <strong>How to use:</strong> Aim ~90–120 minutes/day, 6 days/week. For each step: <em>watch → outline solution → code from scratch → practice</em>. Do spaced review on Day 6. Day 7 optional rest or contest.
      </div>

      <h2 class="section-title" id="weekTitle">Select a week on the left</h2>
      <div id="steps"></div>

      <div style="margin-top:24px" class="callout grid-2">
        <div>
          <div style="font-weight:700;margin-bottom:6px">Daily routine (suggested)</div>
          <ul style="margin:6px 0 0 18px;color:#cbd5e1">
            <li>10m: Review notes from yesterday</li>
            <li>30–45m: Watch the linked video(s)</li>
            <li>40–60m: Implement twice (from scratch, then from memory)</li>
            <li>30–45m: Do the linked practice set, then 1 similar variant</li>
          </ul>
        </div>
        <div>
          <div style="font-weight:700;margin-bottom:6px">Tips</div>
          <ul style="margin:6px 0 0 18px;color:#cbd5e1">
            <li>Focus on <em>patterns</em> (sliding window, two pointers, BFS/DFS, DP states).</li>
            <li>Time yourself. Add a brief post-mortem for any misses.</li>
            <li>Re-do difficult problems after 24h / 7d / 30d.</li>
          </ul>
        </div>
      </div>
    </div>
  </main>
</div>

<script>
/** ------------------------------
 * Data: 8-Week Professional Plan
 * Each step includes exact video links (no playlists) and direct practice links.
 * ------------------------------ */
const PLAN = [
  {
    id:"w1",
    title:"Week 1 — Foundations & Arrays/Hashing Core",
    focus:["arrays","prefix"],
    days:"Mon–Sat study, Sun optional",
    steps:[
      {
        id:"w1s1",
        tag:"Foundations",
        title:"Asymptotic analysis: Big-O (time & space), common growth rates",
        videos:[
          {t:"Big-O for Coding Interviews — NeetCode (exact video)", u:"https://www.youtube.com/watch?v=BgLTDT03QtU"},
          {t:"Intro to Big-O & Time Complexity — CS Dojo", u:"https://www.youtube.com/watch?v=D6xkbGLQesk"}
        ],
        practice:[
          {t:"Cheatsheet (free)", u:"https://neetcode.io/courses/lessons/big-o-notation"}
        ]
      },
      {
        id:"w1s2",
        tag:"Arrays/Hashing",
        title:"Two Sum, Valid Anagram, Group Anagrams",
        videos:[
          {t:"Two Sum — LeetCode 1 (NeetCode)", u:"https://www.youtube.com/watch?v=KLlXCFG5TnA"},
          {t:"Valid Anagram — LeetCode 242 (NeetCode)", u:"https://www.youtube.com/watch?v=9UtInBqnCgA"},
          {t:"Group Anagrams — LeetCode 49 (NeetCode)", u:"https://www.youtube.com/watch?v=vzdNOK2oB2E"}
        ],
        practice:[
          {t:"LeetCode 1. Two Sum", u:"https://leetcode.com/problems/two-sum/"},
          {t:"LeetCode 242. Valid Anagram", u:"https://leetcode.com/problems/valid-anagram/"},
          {t:"LeetCode 49. Group Anagrams", u:"https://leetcode.com/problems/group-anagrams/"}
        ]
      },
      {
        id:"w1s3",
        tag:"Arrays/Hashing",
        title:"Top-K & frequency maps; prefix tricks",
        videos:[
          {t:"Top K Frequent Elements — LeetCode 347 (NeetCode)", u:"https://www.youtube.com/watch?v=YPTqKIgVk-k"},
          {t:"Product of Array Except Self — LeetCode 238 (NeetCode)", u:"https://www.youtube.com/watch?v=bNvIQI2wAjk"}
        ],
        practice:[
          {t:"LeetCode 347. Top K Frequent Elements", u:"https://leetcode.com/problems/top-k-frequent-elements/"},
          {t:"LeetCode 238. Product of Array Except Self", u:"https://leetcode.com/problems/product-of-array-except-self/"}
        ]
      },
      {
        id:"w1s4",
        tag:"Strings/Hashing",
        title:"Encode/Decode strings; sliding window warmup",
        videos:[
          {t:"Encode & Decode Strings — LeetCode 271 (NeetCode)", u:"https://www.youtube.com/watch?v=B1k_sxOSgv8"},
          {t:"Longest Substring Without Repeating — LeetCode 3 (NeetCode)", u:"https://www.youtube.com/watch?v=wiGpQwVHdE0"}
        ],
        practice:[
          {t:"LeetCode 271. Encode and Decode Strings", u:"https://leetcode.com/problems/encode-and-decode-strings/"},
          {t:"LeetCode 3. Longest Substring Without Repeating", u:"https://leetcode.com/problems/longest-substring-without-repeating-characters/"}
        ]
      }
    ]
  },
  {
    id:"w2",
    title:"Week 2 — Two Pointers, Sliding Window, Binary Search",
    focus:["twopointers","binarysearch","prefix"],
    days:"Mon–Sat study, Sun optional",
    steps:[
      {
        id:"w2s1",
        tag:"Two Pointers",
        title:"3Sum, Container With Most Water, Trapping Rain Water",
        videos:[
          {t:"3Sum — LeetCode 15 (NeetCode)", u:"https://www.youtube.com/watch?v=jzZsG8n2R9A"},
          {t:"Container With Most Water — LeetCode 11 (NeetCode)", u:"https://www.youtube.com/watch?v=UuiTKBwPgAo"},
          {t:"Trapping Rain Water — LeetCode 42 (NeetCode)", u:"https://www.youtube.com/watch?v=ZI2z5pq0TqA"}
        ],
        practice:[
          {t:"LeetCode 15. 3Sum", u:"https://leetcode.com/problems/3sum/"},
          {t:"LeetCode 11. Container With Most Water", u:"https://leetcode.com/problems/container-with-most-water/"},
          {t:"LeetCode 42. Trapping Rain Water", u:"https://leetcode.com/problems/trapping-rain-water/"}
        ]
      },
      {
        id:"w2s2",
        tag:"Sliding Window",
        title:"Minimum Window Substring & variants",
        videos:[
          {t:"Minimum Window Substring — LeetCode 76 (NeetCode)", u:"https://www.youtube.com/watch?v=jSto0O4AJbM"}
        ],
        practice:[
          {t:"LeetCode 76. Minimum Window Substring", u:"https://leetcode.com/problems/minimum-window-substring/"},
          {t:"LeetCode 567. Permutation in String", u:"https://leetcode.com/problems/permutation-in-string/"},
          {t:"LeetCode 424. Longest Repeating Character Replacement", u:"https://leetcode.com/problems/longest-repeating-character-replacement/"}
        ]
      },
      {
        id:"w2s3",
        tag:"Binary Search",
        title:"Search patterns & answer-space search",
        videos:[
          {t:"Binary Search in 4 minutes", u:"https://www.youtube.com/watch?v=xqDmZmmHF5E"},
          {t:"Search in Rotated Sorted Array — LeetCode 33 (NeetCode)", u:"https://www.youtube.com/watch?v=U8XENwh8Oy8"},
          {t:"Koko Eating Bananas — LeetCode 875 (NeetCode)", u:"https://www.youtube.com/watch?v=U2SozAs9RzA"}
        ],
        practice:[
          {t:"LeetCode 33. Search in Rotated Sorted Array", u:"https://leetcode.com/problems/search-in-rotated-sorted-array/"},
          {t:"LeetCode 875. Koko Eating Bananas", u:"https://leetcode.com/problems/koko-eating-bananas/"},
          {t:"LeetCode 74. Search a 2D Matrix", u:"https://leetcode.com/problems/search-a-2d-matrix/"}
        ]
      }
    ]
  },
  {
    id:"w3",
    title:"Week 3 — Stack/Queue, Prefix Sums & Monotonic Stack",
    focus:["stackqueue","prefix"],
    days:"Mon–Sat study, Sun optional",
    steps:[
      {
        id:"w3s1",
        tag:"Stack",
        title:"Valid Parentheses + Min Stack",
        videos:[
          {t:"Valid Parentheses — LeetCode 20 (NeetCode)", u:"https://www.youtube.com/watch?v=WTzjTskDFMg"},
          {t:"Min Stack — LeetCode 155 (video)", u:"https://www.youtube.com/watch?v=EhCiNho80HI"}
        ],
        practice:[
          {t:"LeetCode 20. Valid Parentheses", u:"https://leetcode.com/problems/valid-parentheses/"},
          {t:"LeetCode 155. Min Stack", u:"https://leetcode.com/problems/min-stack/"}
        ]
      },
      {
        id:"w3s2",
        tag:"Queue/Stack",
        title:"Implement Queue using Stacks; Implement Stack using Queues",
        videos:[
          {t:"Implement Queue using Stacks — LeetCode 232 (video)", u:"https://www.youtube.com/watch?v=FEark4VZP5U"}
        ],
        practice:[
          {t:"LeetCode 232. Implement Queue using Stacks", u:"https://leetcode.com/problems/implement-queue-using-stacks/"},
          {t:"LeetCode 225. Implement Stack using Queues", u:"https://leetcode.com/problems/implement-stack-using-queues/"}
        ]
      },
      {
        id:"w3s3",
        tag:"Monotonic/Prefix",
        title:"Daily Temperatures; Subarray Sum Equals K",
        videos:[
          {t:"Daily Temperatures — LeetCode 739 (NeetCode)", u:"https://www.youtube.com/watch?v=cTBiBSnjO3c"},
          {t:"Subarray Sum Equals K — LeetCode 560 (NeetCode)", u:"https://www.youtube.com/watch?v=fFVZt-6sgyo"}
        ],
        practice:[
          {t:"LeetCode 739. Daily Temperatures", u:"https://leetcode.com/problems/daily-temperatures/"},
          {t:"LeetCode 560. Subarray Sum Equals K", u:"https://leetcode.com/problems/subarray-sum-equals-k/"}
        ]
      }
    ]
  },
  {
    id:"w4",
    title:"Week 4 — Trees & BST",
    focus:["trees"],
    days:"Mon–Sat study, Sun optional",
    steps:[
      {
        id:"w4s1",
        tag:"Trees",
        title:"Traversal patterns (BFS/DFS) & level order",
        videos:[
          {t:"Binary Tree Level Order Traversal — LeetCode 102 (NeetCode)", u:"https://www.youtube.com/watch?v=6ZnyEApgFYg"}
        ],
        practice:[
          {t:"LeetCode 102. Binary Tree Level Order Traversal", u:"https://leetcode.com/problems/binary-tree-level-order-traversal/"},
          {t:"LeetCode 104. Maximum Depth of Binary Tree", u:"https://leetcode.com/problems/maximum-depth-of-binary-tree/"}
        ]
      },
      {
        id:"w4s2",
        tag:"BST",
        title:"Validate BST; Kth Smallest in BST",
        videos:[
          {t:"Validate Binary Search Tree — LeetCode 98 (NeetCode)", u:"https://www.youtube.com/watch?v=s6ATEkipzow"},
          {t:"Kth Smallest in a BST — LeetCode 230 (NeetCode)", u:"https://www.youtube.com/watch?v=5LUXSvjmGCw"}
        ],
        practice:[
          {t:"LeetCode 98. Validate BST", u:"https://leetcode.com/problems/validate-binary-search-tree/"},
          {t:"LeetCode 230. Kth Smallest in BST", u:"https://leetcode.com/problems/kth-smallest-element-in-a-bst/"}
        ]
      },
      {
        id:"w4s3",
        tag:"BST",
        title:"Lowest Common Ancestor (BST) & basics",
        videos:[
          {t:"LCA of a BST — LeetCode 235 (NeetCode)", u:"https://www.youtube.com/watch?v=gs2LMfuOR9k"}
        ],
        practice:[
          {t:"LeetCode 235. LCA of a BST", u:"https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-search-tree/"},
          {t:"LeetCode 700. Search in a BST", u:"https://leetcode.com/problems/search-in-a-binary-search-tree/"}
        ]
      }
    ]
  },
  {
    id:"w5",
    title:"Week 5 — Heaps / Priority Queues & Sorting",
    focus:["heap","sorting"],
    days:"Mon–Sat study, Sun optional",
    steps:[
      {
        id:"w5s1",
        tag:"Heap / PQ",
        title:"Priority Queue & Binary Heap (concepts) + Top-K problems",
        videos:[
          {t:"Priority Queue — Intro (William Fiset)", u:"https://www.youtube.com/watch?v=D6gu-_tmEpQ"},
          {t:"Binary Heap (Fiset)", u:"https://www.youtube.com/watch?v=Q_eia3jC9Ts"},
          {t:"Top K Frequent Elements — LeetCode 347 (NeetCode)", u:"https://www.youtube.com/watch?v=YPTqKIgVk-k"},
          {t:"Kth Largest Element — LeetCode 215 (NeetCode)", u:"https://www.youtube.com/watch?v=XEmy13g1Qxc"}
        ],
        practice:[
          {t:"LeetCode 347. Top K Frequent Elements", u:"https://leetcode.com/problems/top-k-frequent-elements/"},
          {t:"LeetCode 215. Kth Largest Element in an Array", u:"https://leetcode.com/problems/kth-largest-element-in-an-array/"}
        ]
      },
      {
        id:"w5s2",
        tag:"Sorting",
        title:"Divide & Conquer sorting — Merge Sort and QuickSort (deep dive)",
        videos:[
          {t:"Merge Sort — Abdul Bari (exact video)", u:"https://www.youtube.com/watch?v=mB5HXBb_HY8"},
          {t:"QuickSort — Abdul Bari (exact video)", u:"https://www.youtube.com/watch?v=7h1s2SojIRw"}
        ],
        practice:[
          {t:"Practice: implement mergesort/quicksort", u:"https://gist.github.com/"}
        ]
      }
    ]
  },
  {
    id:"w6",
    title:"Week 6 — Graphs I: BFS/DFS, Grids, Topological Sort",
    focus:["graphs"],
    days:"Mon–Sat study, Sun optional",
    steps:[
      {
        id:"w6s1",
        tag:"Graphs",
        title:"BFS & DFS fundamentals; Clone Graph",
        videos:[
          {t:"Breadth-First Search (Fiset)", u:"https://www.youtube.com/watch?v=xlVX7dXLS64"},
          {t:"Depth-First Search (Fiset)", u:"https://www.youtube.com/watch?v=7fujbpJ0LB4"},
          {t:"Clone Graph — LeetCode 133 (NeetCode)", u:"https://www.youtube.com/watch?v=mQeF6bN8hMk"}
        ],
        practice:[
          {t:"LeetCode 133. Clone Graph", u:"https://leetcode.com/problems/clone-graph/"}
        ]
      },
      {
        id:"w6s2",
        tag:"Graphs / Grids",
        title:"Grid BFS classics: Number of Islands, Walls & Gates, Rotting Oranges",
        videos:[
          {t:"Number of Islands — LeetCode 200 (NeetCode)", u:"https://www.youtube.com/watch?v=pV2kpPD66nE"},
          {t:"Walls & Gates — LeetCode 286 (NeetCode)", u:"https://www.youtube.com/watch?v=e69C6xhiSQE"},
          {t:"Rotting Oranges — LeetCode 994 (NeetCode)", u:"https://www.youtube.com/watch?v=y704fEOx0s0"}
        ],
        practice:[
          {t:"LeetCode 200. Number of Islands", u:"https://leetcode.com/problems/number-of-islands/"},
          {t:"LeetCode 286. Walls and Gates", u:"https://leetcode.com/problems/walls-and-gates/"},
          {t:"LeetCode 994. Rotting Oranges", u:"https://leetcode.com/problems/rotting-oranges/"}
        ]
      },
      {
        id:"w6s3",
        tag:"Topo Sort",
        title:"Topological order (Kahn & DFS) + Course Schedule I/II",
        videos:[
          {t:"Topological Sort (Kahn) — Fiset", u:"https://www.youtube.com/watch?v=cIBFEhD77b4"},
          {t:"Course Schedule — LeetCode 207 (NeetCode)", u:"https://www.youtube.com/watch?v=EgI5nU9etnU"},
          {t:"Course Schedule II — LeetCode 210 (NeetCode)", u:"https://www.youtube.com/watch?v=Akt3glAwyfY"}
        ],
        practice:[
          {t:"LeetCode 207. Course Schedule", u:"https://leetcode.com/problems/course-schedule/"},
          {t:"LeetCode 210. Course Schedule II", u:"https://leetcode.com/problems/course-schedule-ii/"},
          {t:"CSES: Course Schedule (Topo)", u:"https://cses.fi/problemset/task/1679"}
        ]
      }
    ]
  },
  {
    id:"w7",
    title:"Week 7 — Graphs II: Shortest Paths, Union-Find, MST",
    focus:["shortest","mst","graphs"],
    days:"Mon–Sat study, Sun optional",
    steps:[
      {
        id:"w7s1",
        tag:"Shortest Paths",
        title:"Dijkstra, Bellman-Ford, Floyd-Warshall (+ practice)",
        videos:[
          {t:"Dijkstra — Fiset", u:"https://www.youtube.com/watch?v=pSqmAO-m7Lk"},
          {t:"Bellman-Ford — Fiset", u:"https://www.youtube.com/watch?v=obWXjtg0L64"},
          {t:"Floyd-Warshall — Fiset", u:"https://www.youtube.com/watch?v=4OQeCuLYj-4"}
        ],
        practice:[
          {t:"CSES: Shortest Routes I (Dijkstra)", u:"https://cses.fi/problemset/task/1671"},
          {t:"LeetCode 743. Network Delay Time", u:"https://leetcode.com/problems/network-delay-time/"}
        ]
      },
      {
        id:"w7s2",
        tag:"Union-Find & MST",
        title:"Disjoint Set (Union-Find), Kruskal, Prim",
        videos:[
          {t:"Union-Find / DSU — Fiset", u:"https://www.youtube.com/watch?v=VHRhJWacxis"},
          {t:"Kruskal’s MST — Fiset", u:"https://www.youtube.com/watch?v=JZBQLXgSGfs"},
          {t:"Prim’s MST — Fiset", u:"https://www.youtube.com/watch?v=jsmMtJpPnhU"}
        ],
        practice:[
          {t:"LeetCode 261. Graph Valid Tree (DSU/BFS)", u:"https://leetcode.com/problems/graph-valid-tree/"},
          {t:"LeetCode 1584. Min Cost to Connect All Points", u:"https://leetcode.com/problems/min-cost-to-connect-all-points/"}
        ]
      }
    ]
  },
  {
    id:"w8",
    title:"Week 8 — Dynamic Programming I/II + Tries (stretch)",
    focus:["dp","trie","advanced"],
    days:"Mon–Sat study, Sun optional",
    steps:[
      {
        id:"w8s1",
        tag:"DP 1-D",
        title:"Climbing Stairs, House Robber, Coin Change",
        videos:[
          {t:"Climbing Stairs — LeetCode 70 (NeetCode)", u:"https://www.youtube.com/watch?v=Y0lT9Fck7qI"},
          {t:"Coin Change — LeetCode 322 (NeetCode)", u:"https://www.youtube.com/watch?v=H9bfqozjoqs"},
          {t:"House Robber II (circular variant) — LeetCode 213 (NeetCode)", u:"https://www.youtube.com/watch?v=rWAJCfYYOvM"}
        ],
        practice:[
          {t:"LeetCode 70. Climbing Stairs", u:"https://leetcode.com/problems/climbing-stairs/"},
          {t:"LeetCode 198. House Robber", u:"https://leetcode.com/problems/house-robber/"},
          {t:"LeetCode 322. Coin Change", u:"https://leetcode.com/problems/coin-change/"}
        ]
      },
      {
        id:"w8s2",
        tag:"DP Sequences",
        title:"LIS (n log n), Word Break, Longest Palindromic Substring",
        videos:[
          {t:"Longest Increasing Subsequence — Tushar Roy", u:"https://www.youtube.com/watch?v=CE2b_-XfVDk"},
          {t:"Word Break — LeetCode 139 (NeetCode)", u:"https://www.youtube.com/watch?v=Sx9NNgInc3A"},
          {t:"Longest Palindromic Substring — LeetCode 5 (NeetCode)", u:"https://www.youtube.com/watch?v=XYQecbcd6_c"}
        ],
        practice:[
          {t:"LeetCode 300. LIS", u:"https://leetcode.com/problems/longest-increasing-subsequence/"},
          {t:"LeetCode 139. Word Break", u:"https://leetcode.com/problems/word-break/"},
          {t:"LeetCode 5. Longest Palindromic Substring", u:"https://leetcode.com/problems/longest-palindromic-substring/"}
        ]
      },
      {
        id:"w8s3",
        tag:"Trie / Advanced",
        title:"Trie & Segment/Fenwick Trees (stretch/optional)",
        videos:[
          {t:"Implement Trie (Prefix Tree) — LeetCode 208 (NeetCode)", u:"https://www.youtube.com/watch?v=oobqoCJlHA0"},
          {t:"Segment Trees — Fiset", u:"https://www.youtube.com/watch?v=ZBHKZF5w4YU"},
          {t:"Fenwick (Binary Indexed) Tree — Fiset", u:"https://www.youtube.com/watch?v=dp-gWnYzjQI"}
        ],
        practice:[
          {t:"LeetCode 208. Implement Trie", u:"https://leetcode.com/problems/implement-trie-prefix-tree/"},
          {t:"CSES Range Queries (pick any 2)", u:"https://cses.fi/problemset/"}
        ]
      }
    ]
  }
];

// ---------- UI Logic ----------
const weekList = document.getElementById('weekList');
const stepsEl = document.getElementById('steps');
const weekTitle = document.getElementById('weekTitle');
const bar = document.getElementById('bar');
const pct = document.getElementById('pct');
const search = document.getElementById('search');
const filter = document.getElementById('filter');
const expandAllBtn = document.getElementById('expandAll');
const collapseAllBtn = document.getElementById('collapseAll');

const stateKey = "dsa-plan-progress-v3";
let done = JSON.parse(localStorage.getItem(stateKey) || "{}");
let currentWeekId = PLAN[0].id;

function save(){ localStorage.setItem(stateKey, JSON.stringify(done)); updateProgress(); }
function setWeek(id){ currentWeekId = id; renderWeeks(); renderSteps(); }
function toggleStep(stepId){ done[stepId] = !done[stepId]; save(); }

function renderWeeks(){
  weekList.innerHTML = "";
  PLAN.forEach(w=>{
    const total = w.steps.length;
    const c = w.steps.filter(s=>done[s.id]).length;
    const p = Math.round(c*100/total);
    const div = document.createElement('div');
    div.className = "week"+(w.id===currentWeekId?" active":"");
    div.innerHTML = `
      <h3>${w.title}</h3>
      <div class="meta">${w.days}</div>
      <div class="meta" style="margin-top:6px">
        <span class="tag">${w.focus.map(x=>`#${x}`).join(" ")}</span>
      </div>
      <div style="margin-top:8px;height:8px;background:#0b1220;border:1px solid #263347;border-radius:999px;overflow:hidden">
        <div style="height:100%;width:${p}%;background:linear-gradient(90deg,#5eead4,#60a5fa)"></div>
      </div>`;
    div.addEventListener('click', ()=>setWeek(w.id));
    weekList.appendChild(div);
  });
}

function linkIcon(url){
  const yt = /youtube\.com|youtu\.be/.test(url);
  const lc = /leetcode\.com/.test(url);
  const cses = /cses\.fi/.test(url);
  if(yt) return "▶";
  if(lc) return "🧩";
  if(cses) return "📘";
  return "↗";
}

function renderSteps(){
  const W = PLAN.find(w=>w.id===currentWeekId);
  weekTitle.textContent = W.title;
  stepsEl.innerHTML = "";

  const q = (search.value||"").toLowerCase();
  const f = filter.value;

  W.steps.forEach(s=>{
    const hay = (s.title+" "+(s.videos?.map(v=>v.t).join(" ")||"")+" "+(s.practice?.map(p=>p.t).join(" ")||"")).toLowerCase();
    const fitsSearch = !q || hay.includes(q);
    const fitsFilter = f==="all" || W.focus.includes(f) || s.tag.toLowerCase().includes(f);
    if(!(fitsSearch && fitsFilter)) return;

    const wrapper = document.createElement('div');
    wrapper.className = "step";
    wrapper.dataset.id = s.id;

    wrapper.innerHTML = `
      <div class="step-head">
        <span class="chip">${s.tag}</span>
        <h4>${s.title}</h4>
        <div class="grow"></div>
        <div class="donebox">
          <input type="checkbox" ${done[s.id]?"checked":""} />
          <label>Done</label>
        </div>
      </div>
      <div class="step-body">
        <div class="grid-2">
          <div>
            <div class="kicker" style="margin-bottom:6px">Watch</div>
            <div class="links">
              ${(s.videos||[]).map(v=>(
                `<a href="${v.u}" target="_blank" rel="noopener">
                  <span>${linkIcon(v.u)}</span>
                  <div><div>${v.t}</div><small>${new URL(v.u).hostname}</small></div>
                </a>`
              )).join("")}
            </div>
          </div>
          <div>
            <div class="kicker" style="margin-bottom:6px">Practice</div>
            <div class="links">
              ${(s.practice||[]).map(p=>(
                `<a href="${p.u}" target="_blank" rel="noopener">
                  <span>${linkIcon(p.u)}</span>
                  <div><div>${p.t}</div><small>${new URL(p.u).hostname}</small></div>
                </a>`
              )).join("")}
            </div>
          </div>
        </div>
      </div>
    `;

    const checkbox = wrapper.querySelector('input[type=checkbox]');
    checkbox.addEventListener('change', ()=>{ toggleStep(s.id); });

    const head = wrapper.querySelector('.step-head');
    const body = wrapper.querySelector('.step-body');
    head.addEventListener('click', (e)=>{
      if(e.target===checkbox) return;
      body.style.display = body.style.display==='block' ? 'none' : 'block';
    });

    stepsEl.appendChild(wrapper);
  });
}

function updateProgress(){
  const all = PLAN.flatMap(w=>w.steps.map(s=>s.id));
  const doneCount = all.filter(id=>done[id]).length;
  const p = Math.round(100*doneCount/all.length);
  bar.style.width = p+"%";
  pct.textContent = p+"%";
}

document.getElementById('exportBtn').onclick = ()=>{
  const blob = new Blob([JSON.stringify(done,null,2)], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = Object.assign(document.createElement('a'), {href:url, download:'dsa-progress.json'});
  document.body.appendChild(a); a.click(); a.remove();
  URL.revokeObjectURL(url);
};

document.getElementById('importBtn').onclick = ()=>document.getElementById('importFile').click();
document.getElementById('importFile').onchange = (e)=>{
  const file = e.target.files[0]; if(!file) return;
  const reader = new FileReader();
  reader.onload = ()=>{ try{ done = JSON.parse(reader.result); save(); renderWeeks(); renderSteps(); }catch(_){} };
  reader.readAsText(file);
};

document.getElementById('resetBtn').onclick = ()=>{ if(confirm("Reset all progress?")){ done = {}; save(); renderWeeks(); renderSteps(); } };

expandAllBtn.onclick = ()=>{
  document.querySelectorAll('.step .step-body').forEach(b=>b.style.display='block');
};
collapseAllBtn.onclick = ()=>{
  document.querySelectorAll('.step .step-body').forEach(b=>b.style.display='none');
};

search.oninput = renderSteps;
filter.onchange = renderSteps;

renderWeeks(); renderSteps(); updateProgress();
</script>
</body>
</html>
